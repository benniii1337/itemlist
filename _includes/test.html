    {%- assign type = include.type -%}
    {%- assign count = 0 -%}

<div id="selections">
  <div id="left">
    <select id="select_apparel" onchange="showCommand()">
      <option value=""></option>
        {%- for item in include.displayData -%}
            {%- if type == "Apparel" -%}
                <option value="{{- item.abr -}}">{{- item.abr | capitalize -}}</option>
                {%- continue -%}
            {%- endif -%}
        {%- endfor -%}
    </select>
  </div>
  <div id="center">
    <select id="select_material" onchange="showCommand()">
      <option value=""></option>
    </select>
  </div>
  <div id="right">
    <select id="select_quality" onchange="showCommand()">
      <option value=""></option>
      <option value="awful">Awful</option>
      <option value="poor">Poor</option>
      <option value="normal">Normal</option>
      <option value="good">Good</option>
      <option value="excellent">Excellent</option>
      <option value="masterwork">Masterwork</option>
      <option value="legendary">Legendary</option>
    </select>
  </div>
  <input type="textbox" id="output"/> <button onclick="copyText()">Copy</button>
</div>

<script>
  $(document).ready(function () {
  //change selectboxes to selectize mode to be searchable
    $("select").select2();
    
  $("#select_apparel").select2({
    placeholder: "Apparel",
    allowClear: true
  });
  
  $("#select_material").select2({
    placeholder: "Material",
    allowClear: true
  });
  
  $("#select_quality").select2({
    placeholder: "Quality",
    allowClear: true
  });
  
  function showCommand() {
    var part1 = document.getElementById('select_apparel').value;
    var part2 = document.getElementById('select_material').value;
    var part3 = document.getElementById('select_quality').value;
    result = "$wear " + part1.concat("[", part2, ",", part3, "]");
    document.getElementById('output').value = result;
  }
  
  function copyText() {
    var copyText = document.getElementById("output");

    copyText.select();
    copyText.setSelectionRange(0, 99999); // For mobile devices

    navigator.clipboard.writeText(copyText.value);
  }
   
  $("#select_apparel").change(function() {
    var app = $(this).val();
      {%- for item in include.displayData -%}
        {%- if type == "Apparel" and count == 0 -%}
          {%- assign count = count | plus: 1 -%}
          if (app == "{{- item.abr -}}") {
            $("#select_material").html("<option value='test'>item1: test 1</option><option value='test2'>item1: test 2</option>");
          }
          {%- continue -%}
        {%- endif -%}
        {%- if type == "Apparel" and count != 0 -%}
          else if (app == "{{- item.abr -}}") {
          $("#select_material").html("<option value='test'>item1: test 1</option><option value='test2'>item1: test 2</option>"); 
          }
          {%- continue -%}
        {%- endif -%}
      {%- endfor -%}
  });
});
</script>
